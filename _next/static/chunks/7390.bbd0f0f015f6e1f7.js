"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7390],{90830:function(e,t,i){i.d(t,{bm:function(){return r},cb:function(){return c},d2:function(){return l},fv:function(){return a},kw:function(){return u},sI:function(){return d}});var n=i(85893),o=i(67294),s=i(964);let r=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0 22v-6h6v6H0zm2-4v2h2v-2H2zm-2-4V8h6v6H0zm2-4v2h2v-2H2zM0 6V0h6v6H0zm2-4v2h2V2H2zm8 10v-2h18v2H10zm14 6v2H10v-2h14zM10 2h22v2H10V2zM0 30v-6h6v6H0zm2-4v2h2v-2H2zm8 2v-2h18v2H10z"})})),a=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M32 10H0V8h32v2zm0 16H0v-2h32v2zm0-8.016H0V16h32v1.984z"})})),l=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M28 8.578V32H2V0h17.422zM20 8h4.578L20 3.422V8zm6 22V10h-8V2H4v28h22z"})})),c=(0,o.memo)(()=>{let{colors:e}=(0,s.Fg)();return(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M17 16h-2V0h2v16zm3.313-11.312q2.156.688 3.945 2t3.063 3.078 1.977 3.875.703 4.359q0 1.938-.5 3.727t-1.414 3.344-2.188 2.828-2.828 2.188-3.344 1.414-3.727.5-3.727-.5-3.344-1.414-2.828-2.188-2.188-2.828-1.414-3.344-.5-3.727q0-2.25.703-4.359t1.977-3.875 3.063-3.078 3.945-2l.625 1.891q-1.859.609-3.391 1.734t-2.625 2.625-1.695 3.305-.602 3.758q0 1.656.43 3.188t1.211 2.867 1.875 2.43 2.43 1.875 2.867 1.211 3.188.43 3.188-.43 2.867-1.211 2.43-1.875 1.875-2.43 1.211-2.867.43-3.188q0-1.953-.602-3.758t-1.695-3.305-2.625-2.625-3.391-1.734z",stroke:e.text,strokeWidth:"1"})})}),d=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M32 4v24H0V4h32zM2 6v10.578l7-6.984 10 10 4-4 7 6.984V6H2zm0 20h20.578L9 12.406l-7 7.016V26zm28 0v-.578l-7-7.016L20.406 21l5.016 5H30zm-5-14q-.406 0-.703-.297T24 11t.297-.703T25 10t.703.297T26 11t-.297.703T25 12z"})})),u=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m32 24.125-8-4V24H0V8h24v3.875l8-4v16.25zM22 10H2v12h20V10zm8 1.109-6 3.016v3.75l6 3.016V11.11z"})}))},27390:function(e,t,i){i.r(t),i.d(t,{default:function(){return I}});var n=i(85893),o=i(964),s=i(67294),r=i(77628);let a=o.ZP.nav.withConfig({componentId:"sc-f40951ef-0"})(["display:flex;flex-direction:column;height:100%;justify-content:space-between;overflow:hidden;padding-top:4px;position:absolute;top:0;transition-duration:150ms;width:","px;z-index:1;&:hover:not(&.collapsed){backdrop-filter:blur(12px);background-color:hsla(0,0%,10%,95%);box-shadow:8px 0 5px -5px hsla(0,0%,10%,50%);transition:all 300ms ease,backdrop-filter 1ms;transition-timing-function:cubic-bezier(0.15,1,0.5,1);width:",";@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsla(0,0%,10%,75%);}}&.collapsed{transition:all 300ms ease,backdrop-filter 600ms;}"],({theme:e})=>e.sizes.startMenu.sideBar.width,({theme:e})=>e.sizes.startMenu.sideBar.expandedWidth),l=o.ZP.li.withConfig({componentId:"sc-fb695c03-0"})(["border:1px solid transparent;display:flex;height:","px;place-content:center;place-items:center;transition-duration:150ms;width:","px;&::before{border-left:",';content:"";height:',"px;left:0;position:absolute;width:","px;}figure{color:",";display:flex;place-items:center;svg{fill:",";height:",";left:",";margin-left:1px;pointer-events:none;position:absolute;width:",";}figcaption{border:1px solid transparent;left:","px;position:absolute;white-space:nowrap;strong{font-weight:600;}}}",":hover:not(",".collapsed) &{transition:width 300ms;transition-timing-function:cubic-bezier(0.15,1,0.5,1);width:",";}&:hover{background-color:hsla(0,0%,35%,70%);border:1px solid hsla(0,0%,45%,70%);}&:active{background-color:hsla(0,0%,40%,70%);}"],({theme:e})=>e.sizes.startMenu.sideBar.buttonHeight,({theme:e})=>e.sizes.startMenu.sideBar.width,({$active:e,theme:t})=>`4px solid ${e?t.colors.selectionHighlight:"transparent"}`,({theme:e})=>e.sizes.startMenu.sideBar.buttonHeight,({theme:e})=>e.sizes.startMenu.sideBar.width,({$active:e,theme:t})=>e?t.colors.highlight:t.colors.text,({$active:e,theme:t})=>e?t.colors.highlight:t.colors.text,({theme:e})=>e.sizes.startMenu.sideBar.iconSize,({theme:e})=>e.sizes.startMenu.sideBar.iconSize,({theme:e})=>e.sizes.startMenu.sideBar.iconSize,({theme:e})=>e.sizes.startMenu.sideBar.width,a,a,({theme:e})=>e.sizes.startMenu.sideBar.expandedWidth);var c=i(72941),d=i(19014),u=({action:e,active:t,heading:i,icon:o,name:r,tooltip:a})=>{let u=(0,d._)();return(0,n.jsx)(l,{ref:(0,s.useCallback)(e=>{u&&(0,c.G)(e,!0)},[u]),$active:t,"aria-label":r,onClick:e,title:a,children:(0,n.jsxs)("figure",{children:[o,(0,n.jsx)("figcaption",{children:i?(0,n.jsx)("strong",{children:r}):r})]})})},p=i(90830),h=i(59140),v=i(78743),x=i(12691),m=i(26550),w=i(27972);let b=({sidebarButtons:e})=>(0,n.jsx)("ol",{children:e.map(e=>(0,n.jsx)(u,{...e},e.name))});var g=(0,s.memo)(({height:e})=>{let{rootFs:t}=(0,h.o)(),{open:r}=(0,v.z)(),{setHaltSession:l}=(0,x.k)(),[c,d]=(0,s.useState)(!0),u=(0,s.useRef)(),g=(0,s.useRef)(null),f=()=>{u.current&&clearTimeout(u.current)},z=[{heading:!0,icon:(0,n.jsx)(p.fv,{}),name:"START",...c&&{tooltip:"Expand"}},{active:!0,icon:(0,n.jsx)(p.bm,{}),name:"All apps",...c&&{tooltip:"All apps"}}],{sizes:M}=(0,o.Fg)(),k=(0,w.sI)(),j=(0,s.useMemo)(()=>Math.floor((k-m.bK)/M.startMenu.sideBar.width),[M.startMenu.sideBar.width,k]),H=[j>3?{action:()=>r("FileExplorer",{url:`${m.Sd}/Documents`},"/System/Icons/documents.webp"),icon:(0,n.jsx)(p.d2,{}),name:"Documents",...c&&{tooltip:"Documents"}}:void 0,j>4?{action:()=>r("FileExplorer",{url:`${m.Sd}/Pictures`},"/System/Icons/pictures.webp"),icon:(0,n.jsx)(p.sI,{}),name:"Pictures",...c&&{tooltip:"Pictures"}}:void 0,j>5?{action:()=>r("FileExplorer",{url:`${m.Sd}/Videos`},"/System/Icons/videos.webp"),icon:(0,n.jsx)(p.kw,{}),name:"Videos",...c&&{tooltip:"Videos"}}:void 0,{action:()=>{l(!0),Promise.resolve().then(i.bind(i,38707)).then(({resetStorage:e})=>e(t).finally(()=>window.location.reload()))},icon:(0,n.jsx)(p.cb,{}),name:"Power",tooltip:"Clears session data and reloads the page."}].filter(Boolean);return(0,s.useEffect)(()=>f,[]),(0,n.jsxs)(a,{ref:g,className:c?"collapsed":void 0,onClick:({target:e})=>{f(),e instanceof HTMLElement&&(e===g.current&&c||g.current?.contains(e)&&"START"===e.textContent)&&d(e=>!e)},onContextMenu:w.nK,onMouseEnter:()=>{u.current=window.setTimeout(()=>d(!1),700)},onMouseLeave:()=>{f(),d(!0)},style:{height:e},children:[(0,n.jsx)(b,{sidebarButtons:z}),(0,n.jsx)(b,{sidebarButtons:H})]})}),f=i(8897),z=i(78137),M=i(15573),k=i(14330),j=i(40850);let H=(0,o.ZP)(f.m.nav).withConfig({componentId:"sc-954493c3-0"})([""," ","{",";margin-top:0;overflow-x:hidden;padding-bottom:","px;padding-left:","px;padding-top:7px;","{width:",";@supports not selector(::-webkit-scrollbar){width:",";}}","{margin:0;overflow:hidden;padding:0;scrollbar-gutter:auto;figure{picture{margin-left:11px;}&:active{picture{margin-left:15px;}}picture,svg{transition:none;}}}@supports not selector(::-webkit-scrollbar){scrollbar-width:",";}&::-webkit-scrollbar{width:","px;}&::-webkit-scrollbar-corner,&::-webkit-scrollbar-track{background-color:",";}&::-webkit-scrollbar-button:single-button{background-color:",";border:",";}&::-webkit-scrollbar-thumb:vertical{background-color:",";}}"],({theme:e})=>(0,k.Z)(e.sizes.startMenu.maxHeight,e.sizes.startMenu.size),M.Z,(0,j.Z)(m.H$,-2,-1),({theme:e})=>e.sizes.startMenu.sideBar.buttonHeight/2,({theme:e})=>e.sizes.startMenu.sideBar.width,z.Z,({theme:e})=>`${e.sizes.startMenu.size-e.sizes.startMenu.sideBar.width-m.H$}px`,({theme:e})=>`${e.sizes.startMenu.size-e.sizes.startMenu.sideBar.width-m.aT}px`,M.Z,({$showScrolling:e})=>e?"thin":"none",({$showScrolling:e})=>e?m.H$:0,({$showScrolling:e})=>e?void 0:"transparent",({$showScrolling:e})=>e?void 0:"transparent",({$showScrolling:e})=>e?void 0:"1px solid transparent",({$showScrolling:e})=>e?void 0:"rgb(167, 167, 167)");var B=i(26323),V=i(42486),S=i(19788),y=i(86313),I=({toggleStartMenu:e})=>{let t=(0,s.useRef)(null),{sizes:{startMenu:i}}=(0,o.Fg)(),[a,l]=(0,s.useState)(!1),c=(0,s.useMemo)(()=>CSS.supports("selector(::-webkit-scrollbar)"),[]),d=(0,s.useMemo)(()=>i.size-(c?m.H$:m.aT),[c,i.size]),u=(0,s.useCallback)(({clientX:e=0})=>l(e>d),[d]),p=(0,s.useCallback)(e=>{e?.focus(m.eS),t.current=e},[]),h=(0,y.Z)(i.maxHeight),{height:v}=h.variants?.active??{};return(0,n.jsxs)(H,{ref:p,$showScrolling:a,id:"startMenu",onBlurCapture:i=>(0,S.Oh)(i,t.current,e,void 0,S.rF),onKeyDown:({key:t})=>{if("Escape"===t)e(!1);else if(1===t.length){e(!1);let i=document.querySelector(`main > nav > div[title='${S.Hr}']`);if(i){i.click();let e=0,n=window.setInterval(()=>{let i=document.querySelector("main > nav .search > input");i&&(0,B.VD)(i,t),(i||++e>10)&&window.clearInterval(n)},50)}}},onMouseLeave:()=>l(!1),onMouseMove:u,...h,...m.LL,children:[(0,n.jsx)(V.Z,{$height:v}),(0,n.jsx)(g,{height:v}),(0,n.jsx)(r.Z,{url:m.p3,view:"list",hideLoading:!0,hideShortcutIcons:!0,isStartMenu:!0,loadIconsImmediately:!0,readOnly:!0,skipFsWatcher:!0,skipSorting:!0})]})}},26323:function(e,t,i){i.d(t,{A4:function(){return l},VD:function(){return c},r5:function(){return d}});var n=i(1864),o=i(16728),s=i(91410),r=i(26550),a=i(27972);let l=async(e,t,i)=>{if(!e)return;let{subIcons:o,icon:l,pid:c=r.yV[0],url:d}=await new Promise(i=>{e.lstat(t,(n,o)=>{let r=!n&&!!o&&o.isDirectory(),l=(0,a.RT)(t);l&&!r?(0,s.Z7)(e,t,l,e=>i(e)):(0,s.g7)(e,e.getRootFS(),t,r,!1,e=>i(e),!1)})});if(i?.aborted)return;let u=(0,a.yk)(d);return{icon:await (0,s.kv)(e,(0,n.join)(u?r.Rm:r.Xo,`${u?new URL(d).pathname.replace("/",""):d}${r.Qy}`))||l,pid:c,subIcons:o?.includes(r.EV)?o:[],url:d||t}},c=(e,t)=>{let i=0===e.value.length,n=()=>{Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value")?.set?.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))};n(),requestAnimationFrame(()=>i&&1===t.length&&2===e.value.length&&n())},d=(e,t,i,n,s)=>s?"Nostr URI":n?"App":i?"YouTube Video":e?.isDirectory()||!t?"File folder":o.Z[t]?.type||`${t.toUpperCase().replace(".","")} File`},42486:function(e,t,i){let n=i(964).ZP.span.withConfig({componentId:"sc-a718d402-0"})(["backdrop-filter:blur(12px);height:",";inset:0;position:absolute;width:100%;z-index:-1;"],({$height:e})=>e);t.Z=n},14330:function(e,t,i){var n=i(964),o=i(26550);t.Z=(e,t,i=0,s=!1)=>(0,n.iv)(["background-color:hsla(0,0%,13%,95%);border:",";border-bottom-width:0;bottom:","px;box-shadow:3px 0 10px 3px hsla(0,0%,10%,50%);contain:strict;display:flex;height:100%;left:","px;max-height:","px;max-width:","px;position:absolute;width:calc(100% - ","px);z-index:10000;@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsla(0,0%,13%,70%);}"],s?"1px solid hsla(0, 0%, 25%, 75%)":"none",o.bK,i,e,t,i)},86313:function(e,t,i){var n=i(26550),o=i(27972);t.Z=(e,t=!0,i=.5,s=.75)=>{let r=Math.min(e,(0,o.sI)()-n.bK);return{animate:"active",exit:{height:`${r*s}px`,transition:{duration:n.Nb.TASKBAR_ITEM/10,ease:"circIn"}},initial:"initial",transition:{duration:n.Nb.TASKBAR_ITEM,ease:"circOut"},variants:{active:{height:`${r}px`,paddingTop:0},initial:{height:`${r*s}px`,paddingTop:t?`${r*i}px`:0}}}}}}]);