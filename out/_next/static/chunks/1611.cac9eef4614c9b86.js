"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1611],{6434:function(e,t,n){n.d(t,{Fg:function(){return o},VT:function(){return l},Wt:function(){return r}});var i=n(26550);let o=e=>e?.mode.isReadOnly()||!e?.getContent(),r=(e,t)=>{let n=e.editorContainer?.querySelector(".tox-editor-header");n instanceof HTMLDivElement&&n.addEventListener("click",()=>{n.removeAttribute("title"),e.mode.set("design"),t()},i.K7),e.mode.set("readonly")},a=new Set(["wikipedia.org","archive.org"]),l=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),[,n,i]=t.split(".");return a.has(`${n}.${i}`)||a.has(t)}catch{return!1}}},81611:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var i=n(85893);let o=n(964).ZP.div.withConfig({componentId:"sc-3d35edf0-0"})(['height:100%;[role="application"]{border-radius:0;height:100% !important;button:disabled{pointer-events:none;}.tox-statusbar{font-size:12px;}&[aria-disabled="true"]{.tox-editor-header{height:0;margin-top:-1px;overflow:hidden;padding:0;position:relative;visibility:hidden;&::after{bottom:0;color:rgb(200,200,200);content:"Edit Document";cursor:pointer;display:flex;font-size:12px;font-weight:600;height:24px;left:0;padding:0 10px;padding-bottom:2px;place-content:center;place-items:center;position:fixed;transform:translateZ(0);visibility:visible;width:auto;z-index:1;}&:hover::after{background-color:rgba(255,255,255,15%);}.tox-toolbar-overlord{display:none;}}.tox-statusbar__path-item{display:none;}}iframe{background-color:#202124;}}']);var r=n(1864),a=n(67294),l=n(26550);let s={base_url:"/Program Files/TinyMCE/",branding:!1,contextmenu:"",draggable_modal:!0,help_accessibility:!1,image_advtab:!0,plugins:`
  code help image link save wordcount`,promotion:!1,suffix:".min",toolbar:`
  save undo redo | formatselect | bold italic underline | forecolor backcolor |
  alignleft aligncenter alignright | outdent indent | code help`},c=`${l.Ll}/New Rich Text Document.whtml`;var d=n(6434),u=n(91410),m=n(54944),f=n(34772),p=n(59140),b=n(78743),h=n(12691),g=n(27972),w=n(57626),v=({containerRef:e,id:t,setLoading:i,url:o})=>{let{processes:{[t]:{libs:v=[]}={}}={},url:y}=(0,b.z)(),[x,E]=(0,a.useState)(),{prependFileToTitle:k}=(0,f.Z)(t),{readFile:$,stat:T,updateFolder:C,writeFile:L}=(0,p.o)(),{onDragOver:W,onDrop:R}=(0,m.Z)({id:t}),{setForegroundId:_}=(0,h.k)(),D=(0,a.useCallback)(async e=>{let t=new Date((0,u.GA)(e,await T(e))),n=new Intl.DateTimeFormat(l.ZW,{dateStyle:"medium"}).format(t);k(`${(0,r.basename)(e,(0,r.extname)(e))} (${n})`)},[k,T]),S=(0,w.p)(),Z=(0,a.useCallback)(()=>{let t=e.current?.querySelector("iframe");t?.contentWindow&&[...t.contentWindow.document.links].forEach(e=>e.addEventListener("click",t=>{x?.mode.isReadOnly()&&S(t,e.dataset.mceHref||"",e.pathname,e.textContent||"")}))},[e,x?.mode,S]),F=(0,a.useCallback)(async()=>{if(x){let e=()=>{x.options.set("save_onsavecallback",async()=>{let e={closeButton:!0,text:"Successfully saved.",timeout:5e3,type:"success"},t=o||c;try{await L(".rtf"===(0,g.RT)(t)?t.replace(".rtf",".whtml"):t,x.getContent(),!0),C((0,r.dirname)(t),(0,r.basename)(t)),D(t)}catch{e.text="Error occurred while saving.",e.type="error"}x.notificationManager.open(e);let n=x.notificationManager.getNotifications()?.[0]?.getEl()?.parentElement,i=x.editorContainer;n instanceof HTMLElement&&i instanceof HTMLElement&&(i.append(n),n.setAttribute("style","position: absolute; right: 0; bottom: 0; padding: 33px 25px;"),n.querySelector("[role=alert]")?.setAttribute("style","opacity: 1;"))})},t=await $(o);if(0===t.length)x.mode.set("design"),e();else{if((0,d.Wt)(x,e),".rtf"===(0,g.RT)(o)){let{RTFJS:e}=await Promise.all([n.e(8705),n.e(3131)]).then(n.bind(n,83131)),i=new e.Document(t),o=await i.render();x.setContent(o.map(e=>e.outerHTML).join(""))}else x.setContent(t.toString());Z(),x.iframeElement?.contentDocument&&(x.iframeElement.contentDocument.documentElement.scrollTop=0)}D(o)}},[x,Z,$,C,D,o,L]),A=(0,a.useRef)(!1);(0,a.useEffect)(()=>{x||A.current||(A.current=!0,(0,g.mb)(v).then(()=>{window.tinymce&&e.current&&(window.tinymce.remove(),window.tinymce.init({readonly:!!o,selector:`.${[...e.current.classList].join(".")} div`,setup:e=>{e.on("ExecCommand",({command:e})=>{"mceNewDocument"===e&&(y(t,""),k(""))})},...s}).then(([n])=>{let o=e.current?.querySelector("iframe");o?.contentWindow&&(o.contentWindow.addEventListener("dragover",e=>{(0,d.Fg)(n)&&W(e)}),o.contentWindow.addEventListener("drop",e=>{(0,d.Fg)(n)&&R(e)}),o.contentWindow.addEventListener("blur",()=>_(e=>e===t?"":e)),o.contentWindow.addEventListener("focus",()=>_(t)),o.contentWindow.addEventListener("mousedown",({pageX:e})=>o.contentWindow&&e>o.contentWindow.innerWidth-l.BQ&&_(t))),E(n),i(!1)}))}))},[e,x,t,v,W,R,k,_,i,y,o]),(0,a.useEffect)(()=>{o&&x&&F()},[x,F,o]),(0,a.useEffect)(()=>()=>{window.setTimeout(()=>x?.destroy(),0)},[x])},y=n(50834),x=({id:e})=>(0,i.jsx)(y.Z,{StyledComponent:o,id:e,useHook:v,children:(0,i.jsx)("div",{})})},50834:function(e,t,n){var i=n(85893),o=n(5152),r=n.n(o),a=n(67294),l=n(54944),s=n(78743);let c=r()(()=>n.e(446).then(n.bind(n,60446)),{loadableGenerated:{webpack:()=>[60446]}});t.Z=(0,a.memo)(({id:e,useHook:t,StyledComponent:n,children:o})=>{let{processes:{[e]:{url:r=""}={}}}=(0,s.z)(),d=(0,a.useRef)(null),[u,m]=(0,a.useState)(!0),f=(0,a.useMemo)(()=>({contain:"strict",visibility:u?"hidden":"visible"}),[u]);return t({containerRef:d,id:e,loading:u,setLoading:m,url:r}),(0,i.jsxs)(i.Fragment,{children:[u&&(0,i.jsx)(c,{}),(0,i.jsx)(n,{ref:d,style:f,...(0,l.Z)({id:e}),children:o})]})})},54944:function(e,t,n){var i=n(1864),o=n(67294),r=n(46013),a=n(36094),l=n(41893),s=n(59140),c=n(78743),d=n(12691),u=n(26550),m=n(27972);t.Z=({callback:e,directory:t=u.Ll,id:n,onDragLeave:f,onDragOver:p,updatePositions:b})=>{let{url:h}=(0,c.z)(),{iconPositions:g,sortOrders:w,setIconPositions:v}=(0,d.k)(),{mkdirRecursive:y,updateFolder:x,writeFile:E}=(0,s.o)(),k=(0,o.useCallback)(async(e,t,o)=>{if(n){if(t){let r=(0,i.join)(u.Ll,e);if(await y(u.Ll),await E(r,t,!0))return o===l.v.UPDATE_URL&&h(n,r),x(u.Ll,e),(0,i.basename)(r)}else o===l.v.UPDATE_URL&&h(n,e)}return""},[n,y,x,h,E]),{openTransferDialog:$}=(0,r.Z)();return{onDragLeave:f,onDragOver:e=>{p?.(e),(0,m.nK)(e)},onDrop:o=>{if(!u.my.has((0,m.RT)(t))){if(b&&o.target instanceof HTMLElement){let{files:e,text:n}=(0,a.p4)(o);if(0===e.length&&""===n)return;let r={x:o.clientX,y:o.clientY},l=[];if(n){try{l=JSON.parse(n)}catch{}if(!Array.isArray(l))return;let[e]=l;if(!e||e.startsWith(t)&&(0,i.basename)(e)===(0,i.relative)(t,e))return;l=l.map(e=>(0,i.basename)(e))}else l=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);l=l.map(e=>{if(!g[`${t}/${e}`])return e;let n=0,o="";do n+=1,o=`${t}/${(0,i.basename)(e,(0,i.extname)(e))} (${n})${(0,i.extname)(e)}`;while(g[o]);return(0,i.basename)(o)}),(0,m.vi)(t,o.target,g,w,r,l,v)}(0,a.WG)(o,e||k,t,$,!!n)}}}}},34772:function(e,t,n){var i=n(67294),o=n(78743),r=n(28272),a=n(26550);t.Z=e=>{let{title:t}=(0,o.z)(),[n]=e.split(a.CC),{title:l}=r.Z[n]||{};return{appendFileToTitle:(0,i.useCallback)((n,i)=>{let o=n?` - ${n}${i?` ${a.xy}`:""}`:"";t(e,`${l}${o}`)},[e,l,t]),prependFileToTitle:(0,i.useCallback)((n,i,o)=>{let r=n?`${i?`${a.xy} `:""}${n}${o?" ":" - "}`:"";t(e,`${r}${l}`)},[e,l,t])}}},57626:function(e,t,n){n.d(t,{p:function(){return c}});var i=n(1864),o=n(67294),r=n(6434),a=n(91410),l=n(78743),s=n(27972);let c=()=>{let{open:e}=(0,l.z)();return(0,o.useCallback)((t,n,o,l)=>{if((0,s.nK)(t),(0,s.yk)(n))e("VideoPlayer",{url:n});else if((0,r.VT)(n))e("Browser",{initialTitle:l,url:n});else if(o&&""!==(0,i.relative)(decodeURI((n.startsWith("/")?n:`/${n}`).replace(window.location.origin,"")),decodeURI(o)))window.open(n,"_blank","noopener, noreferrer");else{let t=(0,a.Wd)((0,s.RT)(o));t&&e(t,{url:decodeURI(o)})}},[e])}}}]);