"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3007],{53007:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=a(85893);let l=a(964).ZP.div.withConfig({componentId:"sc-1e4b8b1d-0"})(['height:100%;width:100%;&.drop{&::before{color:#ffad33;content:"Drop SWF/SPL file here";display:flex;font-size:16px;font-weight:600;height:100%;left:0;place-content:center;place-items:center;position:absolute;top:0;width:100%;}}ruffle-player{height:100%;width:100%;}']);var r=a(1864),i=a(67294),s=a(34772),o=a(59140),c=a(78743),f=a(27972),u=({containerRef:e,id:t,setLoading:a,url:n})=>{let{linkElement:l,processes:{[t]:{libs:u=[]}={}}={}}=(0,c.z)(),[p,d]=(0,i.useState)(),{appendFileToTitle:m}=(0,s.Z)(t),{readFile:h}=(0,o.o)(),b=(0,i.useCallback)(async()=>{e.current?.classList.remove("drop");try{await p?.load({data:await h(n)})}catch{}finally{a(!1)}m((0,r.basename)(n,(0,r.extname)(n)))},[m,e,p,h,a,n]);(0,i.useEffect)(()=>{(0,f.mb)(u).then(()=>{window.RufflePlayer&&(window.RufflePlayer.config={allowScriptAccess:!1,autoplay:"on",backgroundColor:"#000000",letterbox:"on",polyfills:!1,preloader:!1,unmuteOverlay:"hidden"},d(window.RufflePlayer.newest().createPlayer()),n||(e.current?.classList.add("drop"),a(!1)))})},[e,u,a,n]),(0,i.useEffect)(()=>(e.current&&p&&(e.current.append(p),l(t,"peekElement",p)),()=>p?.remove()),[e,t,l,p]),(0,i.useEffect)(()=>{e.current&&p&&n&&b()},[e,b,p,n])},p=a(50834),d=({id:e})=>(0,n.jsx)(p.Z,{StyledComponent:l,id:e,useHook:u})},50834:function(e,t,a){var n=a(85893),l=a(5152),r=a.n(l),i=a(67294),s=a(54944),o=a(78743);let c=r()(()=>a.e(446).then(a.bind(a,60446)),{loadableGenerated:{webpack:()=>[60446]}});t.Z=(0,i.memo)(({id:e,useHook:t,StyledComponent:a,children:l})=>{let{processes:{[e]:{url:r=""}={}}}=(0,o.z)(),f=(0,i.useRef)(null),[u,p]=(0,i.useState)(!0),d=(0,i.useMemo)(()=>({contain:"strict",visibility:u?"hidden":"visible"}),[u]);return t({containerRef:f,id:e,loading:u,setLoading:p,url:r}),(0,n.jsxs)(n.Fragment,{children:[u&&(0,n.jsx)(c,{}),(0,n.jsx)(a,{ref:f,style:d,...(0,s.Z)({id:e}),children:l})]})})},54944:function(e,t,a){var n=a(1864),l=a(67294),r=a(46013),i=a(36094),s=a(41893),o=a(59140),c=a(78743),f=a(12691),u=a(26550),p=a(27972);t.Z=({callback:e,directory:t=u.Ll,id:a,onDragLeave:d,onDragOver:m,updatePositions:h})=>{let{url:b}=(0,c.z)(),{iconPositions:y,sortOrders:w,setIconPositions:$}=(0,f.k)(),{mkdirRecursive:v,updateFolder:g,writeFile:k}=(0,o.o)(),x=(0,l.useCallback)(async(e,t,l)=>{if(a){if(t){let r=(0,n.join)(u.Ll,e);if(await v(u.Ll),await k(r,t,!0))return l===s.v.UPDATE_URL&&b(a,r),g(u.Ll,e),(0,n.basename)(r)}else l===s.v.UPDATE_URL&&b(a,e)}return""},[a,v,g,b,k]),{openTransferDialog:C}=(0,r.Z)();return{onDragLeave:d,onDragOver:e=>{m?.(e),(0,p.nK)(e)},onDrop:l=>{if(!u.my.has((0,p.RT)(t))){if(h&&l.target instanceof HTMLElement){let{files:e,text:a}=(0,i.p4)(l);if(0===e.length&&""===a)return;let r={x:l.clientX,y:l.clientY},s=[];if(a){try{s=JSON.parse(a)}catch{}if(!Array.isArray(s))return;let[e]=s;if(!e||e.startsWith(t)&&(0,n.basename)(e)===(0,n.relative)(t,e))return;s=s.map(e=>(0,n.basename)(e))}else s=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);s=s.map(e=>{if(!y[`${t}/${e}`])return e;let a=0,l="";do a+=1,l=`${t}/${(0,n.basename)(e,(0,n.extname)(e))} (${a})${(0,n.extname)(e)}`;while(y[l]);return(0,n.basename)(l)}),(0,p.vi)(t,l.target,y,w,r,s,$)}(0,i.WG)(l,e||x,t,C,!!a)}}}}},34772:function(e,t,a){var n=a(67294),l=a(78743),r=a(28272),i=a(26550);t.Z=e=>{let{title:t}=(0,l.z)(),[a]=e.split(i.CC),{title:s}=r.Z[a]||{};return{appendFileToTitle:(0,n.useCallback)((a,n)=>{let l=a?` - ${a}${n?` ${i.xy}`:""}`:"";t(e,`${s}${l}`)},[e,s,t]),prependFileToTitle:(0,n.useCallback)((a,n,l)=>{let r=a?`${n?`${i.xy} `:""}${a}${l?" ":" - "}`:"";t(e,`${r}${s}`)},[e,s,t])}}}}]);